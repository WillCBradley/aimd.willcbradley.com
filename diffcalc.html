<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Will Bradley | Differential Calculus</title>
    <link rel="icon" href="/logo.png" type="image/x-icon">
    <link rel="stylesheet" href="./style.css">
</head>
<body class="body-container idea-container">
    <div class="idea-margin">
        <div class="sticky">
            <h1 class="title idea-title"><a href="./" class="medium-header">&larr; AI, M.D.</a></h1>
        </div>
        <h2 class="idea-subtitle"> Differential Calculus</h2>

        <p class="jumpto">| Jump To Section:</p>
        <ul>
            <li class="jumplink"><a href="#functions">Functions</a></li>
            <li class="jumplink"><a href="#rates">Rates</a></li>
            <li class="jumplink"><a href="#derivatives">Derivatives</a></li>
            <li class="jumplink"><a href="#powerrule">The Power Rule</a></li>
            <li class="jumplink"><a href="#chainrule">The Chain Rule</a></li>
            <li class="jumplink"><a href="#partial">Partial Derivatives</a></li>
        </ul>
        <hr>

        <h2 class="subheading" id="functions">| Functions</h2>
        <p>A function is a rule that matches inputs to outputs.</p>
        <p>A given function f that takes input x is written as f(&#119909) (or "f of &#119909").</p>
        <p>But let's use a more tangible example - mean arterial pressure. If we know a patient's systolic (S) and diastolic (D) blood pressure, we calculate their MAP as follows:</p>
        <img src="map1.png" class="maths-img" alt="">
        <p>This can be rewritten as a function like so:</p>
        <img src="map2.png" class="maths-img" alt="">
        <p><i>(Note: we can replace "f" with anything; it's just an arbitrary label.)</i></p>
        <p>Intuitively, if we change the inputs (S and D), we change the output (f(S, D)). But sometimes, we want to take a closer look at this relationship.</p>
        <p>And to do that, we need to understand rates.</p> 
        <br>


        <h2 class="subheading" id="rates">| Rates</h2>
        <p>A rate is a ratio between two quantities, explaining how they change with respect to one another.</p>
        <p>For instance, if a drug is dosed at 10mg/kg, then for every 1kg increase in weight, we expect a 10mg increase in dose.</p>
        <p>Constant rates (like the one above) produce straight lines:</p>
        <img src="gradient1.png" class="maths-img" alt="">
        <p>To calculate the <i>gradient</i> of this line, we divide the height change ("rise") of any line segment by the corresponding horizontal change ("run").</p>
        <img src="gradient2.png" class="maths-img" alt="">
        <p>As expected: 200 divided by 20 gives us our original value of 10mg/kg.</p>
        <p>This is a simple concept, but it will be extremely important later.</p>
        <p>Not least because of this next concept.</p>
        <br>

        <h2 class="subheading" id="derivatives">| Derivatives</h2>
        <p>Imagine we wanted the gradient of a single point in a function.</p>
        <p>This gives us the <i>instantaneous rate of change</i> at that point, which can be extremely important. After all, a 10-second drop in O<sub>2</sub> sats is very different to a 10-year one.</p>
        <p>But a single point is exactly that: single.</p>
        <p>How do we calculate the movement of a still point?</p>
        <p>Mathematicians spent a long time trying to figure this out. And thankfully, we can copy their homework.</p>
        <p>Using certain rules, we can find the "first derivative" of any function f(&#119909), written as f'(&#119909) ("f prime of &#119909"). Then, for any input a, f'(a) gives us the single-point gradient at f(&#119909) at &#119909 = a.</p>
        <p>For our purposes, there are two relevant differentiation rules.</p>
        <br>

        <h2 class="subheading" id="powerrule">| The Power Rule</h2>

        <p>The power rule applies to any term in a function that contains the relevant variable (all constants should be discarded).</p>
        <p>In English, it tells us to do the following:</p>
        <ul class="tight">
            <li>First, multiply each term by the exponent of its associated variable value (e.g. if the term is &#119909<sup>2</sup>, multiply by 2)</li>
            <li>Then, subtract 1 from the exponent of each variable term (so &#119909<sup>2</sup> becomes &#119909, &#119909 becomes 1, etc).</li>
        </ul>
        <p>This is easier than it sounds on paper.</p>
        <p>For example, let's find the derivative of f(&#119909) = &#119909<sup>2</sup>+5:</p>
        <img src="differentiation1.png" class="maths-img" alt="">
        <p>This is a simple example, but sometimes, things can be more complex. Here's another rule we can use:</p>
        <br>

        <h2 class="subheading" id="chainrule">| The Chain Rule</h2>

        <p>Sometimes, functions can contain other functions.</p>
        <p>For example, imagine f(&#119909) = a(b(c(d(&#119909))))</p>
        <p>At first, this looks like a headache to differentiate. But luckily, there's a pretty simple rule:</p>
        <ul class="tight">
            <li>Find the derivative of the first function</li>
            <li>Pass all the following functions as input to this derivative, and note this term down</li>
            <li>Repeat for the all remaining functions (e.g. for the second "layer", pass the third, fourth, fifth... functions as input to the derivative, and so on)</li>
            <li>Once you have all these terms, multiply them all together (like links in a chain; hence "chain rule")</li>
        </ul>
        <p>So, for our example above:</p>
        <img src="chainrule1.png" class="maths-img" alt="">
        <p>This seems complex, but becomes intuitive with time.</p>
        <p>For now, let's move on to partial derivatives.</p>
        <br>

        <h2 class="subheading" id="partial">| Partial Derivatives</h2>
        <p>Remember our mean arterial pressure function?</p>
        <p>Notice how it had two variables: systolic and diastolic BP.</p>
        <p>In all our differentiation examples so far, &#119909 has been the only variable. How do we handle multiple at once?</p>
        <p>Put simply: we don't.</p>
        <p>In all past examples, we've been <i>differentiating with respect to &#119909.</i></p>
        <p>This is the same as choosing &#119909 for our "run" axis in our gradient calculation, or using "per kilogram bodyweight" when calculating a drug dosage.</p>
        <p>And while we don't always need to use &#119909, we can only choose one variable at a time.</p>
        <p>So, when differentiating with respect to a certain variable in a multivariate equation, we treat the others as constants.</p>
        <p>Let's use our MAP function for an example, by differentiating with respect to S:</p>
        <img src="partial1.png" class="maths-img" alt="">
        <p>Now that we've wrapped our head around this stuff, let's take a look at gradient descent.</p>

        <div class="footer-grid">
            <a href="./aimd-start" class="back-arrow subscribe">←</a>
            <a href="https://willcbradley.substack.com/about" target="_blank" class="contact-btn subscribe">More Ideas</a>
            <a href="./whatisml" class="forward-arrow subscribe">→</a>
        </div>
    </div>
</body>
</html>